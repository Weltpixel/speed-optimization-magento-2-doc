<h1><a href="https://www.weltpixel.com/magento-2-speed-optimization-advanced-js-bundling.html">Magento 2 Speed Optimization & Advanced JS Bundling by Weltpixel.</a></h1>
<br/><br/>
<table>
 <tr>
  <td width="30%" valign="center" style="
    border: none;
"><br><a href="https://www.weltpixel.com/magento-2-speed-optimization-advanced-js-bundling.html"><img src="https://www.weltpixel.com/media/catalog/product/s/p/speed-main_1.png" alt="Speed Optimization & Advanced JS Bundling"></a>
<br><a href="https://www.weltpixel.com"><img src="https://www.weltpixel.com/media/wysiwyg/weltpixel_1000x1000.png" alt="WeltPixel Logo"></a></td>
  <td style="border:none;"><br>
  	  	  	  	<h1>ABOUT THE MAGENTO 2 SPEED OPTIMIZATION & ADVANCED JS BUNDLING MODULE.</h1>
 <p>
The Magento 2 Speed Optimization extension significantly increases your Google Page Speed score, just by installing and configuring the module. This is achieved by implementing a series of improvements like reducing the number of server requests in an efficient way through the following optimizations:
    </p>
    <ul>
        <li>
            Magento 2 Advanced Bundling implementation
        </li>
        <li>
            Moving JS files to the bottom of the page
            </li>
            <li>
                Preloading CSS files
                </li>
            </ul>
    <p>
<strong>Magento 2 Advanced Bundling</strong>
    </p>
    <p>
When using default magento bundling, your site will end up with fewer requests but this process is quite inefficient because it takes all your JS files and bundle the into one big JS file that is loaded on all your pages, leading to increased page size and significantly higher loading time. What you gain by having fewer server requests, you lose by loading unnecessary JS on all your store pages.
    </p>
    <p>
Advanced Bundling helps you bundle the JS files in an intelligent way, by creating different types of JS bundles specific to each Magneto page. This way you benefit from the fewer requests while loading only the necessary JS specific for each page type. JS files are bundled in an efficient way, minimizing the page size and providing the speed improvements that your store needs. The Advanced Bundling process is recommended by Magento as a manually applied solution to increase speed, and this module was created to help merchants bypass the high degree of implementation complexity.
    </p>
    <p>
<strong>Moving JS files to page bottom</strong>
    </p>
    <p>
By loading your CSS files before your JS files you will be able to show the content of your page faster, and assure optimum surfing experience for the end user. First Paint Score of your page will increase significantly, and the end users will feel that your website is fast and responsive, without endless spinning wheel waiting time while browsing trough your site. Not only will site visitors have a great surfing experience but also search engines will rank your store with a higher speed score, and boost your SEO index.
    </p>
    <p>
<strong>Preloading CSS files</strong>
    </p>
 <p>
This feature will also give you an additional speed boost. Stylesheets included in the head section will be downloaded asynchronously, preventing them from blocking the page render and decreasing load times.
    </p>
    <p>
Here’s why page speed is a major part of a great user experience - especially for the growing population of mobile users.
    </p>
    <ul>
        <li>
            <strong>Reduce Bounce Rate - Increase Conversion Rate!</strong>
        </li>
        <p>
The Magento 2 Speed Optimization Extension is designed to make your web store user friendly, delivering faster page load times and increasing customer satisfaction. You’ll see a boost on Google Page Speed Insights which in turn will lead to an increase in your overall conversion rate as customers can easily navigate your site.
        </p>
        <li>
            <strong>SEO Optimization for a Mobile First Internet.</strong>
            </li>
            <p>
It’s no secret that the world of SEO is constantly changing. Since 2018 there has been a heavy focus placed on the actual user experience of a website - especially for mobile. Google’s mobile first indexing has been the gold standard, and plays a large role in your rankings. While many sites have switched to a mobile first design, your page speed optimization plays an equally important part.
            </p>
        </ul>
    <p>
The Magento 2 Speed Optimization Extension prepares your site for Google mobile first indexing and helps get you back on the front page!
    </p>
         <h3>Download Here: <a href="https://www.weltpixel.com/magento-2-speed-optimization-advanced-js-bundling.html">Speed Optimization & Advanced JS Bundling by WeltPixel.</a></h3>
                        <h3>Included in the <a href="https://www.weltpixel.com/magento-2-theme-pearl">Pearl Theme for Magento 2.</a></h3>
                            </div></td>
 </tr>
</table>
<br/>
<h2>FEATURES OF THE EXTENSION.</h2>
<ul>
        <li>
            Increases and optimizes your store's speed. Significantly higher results on Google Page Speed Insights, GT Metrics, Pingdom, Web Page Test.
        </li>
        <li>
            Allows for easy implementation of Magento 2 Advanced Bundling in just a few minutes.
            </li>
            <li>
                Reduces page size to a minimum when using advanced bundled JS files, compared to default magento bundle process.
                </li>
                <li>
                    Reduces the number of server requests.
                    </li>
                    <li>
                        Allows for JS files loading at the bottom of the page, for better first paint score.
                        </li>
                        <li>
                          Allows the preloading of CSS files for even more speed.
                          </li>
                          <li>
                             Easy installation and configuration.
                              </li>
                             </ul>
                                                                                                                                               <tr>
<td>
<div class="col-md-6">
<h1>1 MINUTE INSTALLATION GUI.</h1>
              <ul>
                <li>
                  <strong>Step 1: </strong><br>
                  Before installing please check the extension compatibility.
                  This extension is currently compatible with the following Magento versions 2.0.X. - 2.4.X. 
                  It is recommended to install the extension first on a testing server before you install it on a
                  live (production) server.
                </li>
                <li>
                  <strong>Step 2: </strong><br>
                  Copy the extension files to below paths of your magento 2 instance. If ‘app/code/WeltPixel’ folder
                  is missing, please create it manually:  
                  <strong>
                    app/code/WeltPixel/Backend
                  </strong>
                  <br>
                  <strong>
                    app/code/WeltPixel/SpeedOptimization
                  </strong>
                </li>
                <p>
                  <strong>Optional:</strong> Copy the extension files into the below path of your Magento 2 instance. If the ‘app/code/WeSupply’ folder
                  is missing, please create it manually:  
                  <br>
                  <strong>
                    app/code/WeSupply/Toolbox
                  </strong>
                </p>
               <li>
                  <strong>Step 3: </strong><br>
                  Copy the installation GUI folder 'weltpixel-extension-installation' in the root of your Magento installation. In some Magento configurations the public root folder may be under 'pub' directory.   
                  <br>
                  <strong>
                    www.yourmagentostore.com/<strong>weltpixel-extension-installation/</strong>
                  </strong>
                  <br>
                </li>
                <br>
                 <li>
                <strong>Step 4: </strong><br>
                  In your browser go to www.yourmagentostore.com/<strong>weltpixel-extension-installation/</strong> and simply follow the installation steps from the graphical interface, presented in your browser.
                 </li>
               <li>
                <strong>Step 5: </strong><br>
               Wooohooo! The extension is now installed on your Magento store! Congrats!
                 </li>
                <strong>Troubleshooting</strong><br>
                 <p> If you experienced any issues or limitations with this quick GUI installation, see also SSH Installation below. SSH installation does the same thing but you are required to issue the commands step by step via CLI. Some servers may have high security configurations and may limit the functionality of this GUI Installer.
                 </ul>
 </div>
</td>
</tr>

<tr>
<td>
<div class="col-md-6">
                 <h1>How to Install via SSH.</h1>
                            <ul>
                                <li>
                                    <strong>Step 1: </strong>
                                    <br> <p>Before installing the SpeedOptimization extension on a Magento2 store please check the extension compatibility. This extension is currently compatible with the following Magento versions 2.0.X. - 2.4.x. It is recommended to install the extension first on a testing server before you install it on a live (production) server.
                                </li>
<br>
                                <li>
                                    <strong>Step 2: </strong>
                                    <br> <p>Copy the extension files to the paths of your Magento 2 instance listed below. If the ‘app/code/WeltPixel’ folder is missing, please create it manually:
                                    <br>
<p>
                                    <strong>
                  app/code/WeltPixel/Backend
                </strong> 
                                    <br>
                                    <strong>
                  app/code/WeltPixel/SpeedOptimization
                </strong>
                                </li>
                <p>
                  <strong>Optional:</strong>
                  Copy the extension files into the below path of your Magento 2 instance. If the ‘app/code/WeSupply’ folder
                  is missing, please create it manually:  
                  <br>
                  <strong>
                    app/code/WeSupply/Toolbox
                  </strong>
                </p>
                                <li>
                                    <strong>Step 3: </strong>
                                    <br> <p>Access the root of your Magento 2 project from the command line and run the following commands:
                                    <br>
                                    <strong>
                                      php bin/magento module:enable WeltPixel_Backend --clear-static-content
                                    </strong>
                                    <br>
                                    <strong>
                                  php bin/magento module:enable WeltPixel_SpeedOptimization --clear-static-content
                                    </strong>
                                    <br>
                                    <strong>
                                      php bin/magento setup:upgrade
                                    </strong>
<br>
                                <li>
                                    <strong>Step 4: </strong>
                                    <br> <p>Flush any cache that you might still have enabled on your server or in Magento.
                                </li>
<br>
                                <li>
                                    <strong>Step 5: </strong>
                                    <br> <p>
                                    <strong>Woohoo, the extension is installed!</strong>
                                </li>
                            </ul>
 </div>
</td>
</tr>

<tr>
<td>
<div class="col-md-6">
                           <h1>How to Upgrade the extension.</h1>
                        <ul>
                          <li>
                            <strong>Step 1.</strong> Remove extension code under <strong>app/code/WeltPixel/SpeedOptimization</strong> before adding the new extension files. The extension may be refactored and old unused files may cause random issues so it's best to only keep the latest version of the files.
                           </li>
                           <li>
                              <strong>Step 2. </strong>
                              Follow normal installation instructions above.
                                                         </li>
                        </ul> 
                        <h1>Magento Marketplace Installation.</h1>
                            <ul>
                                <li>If the extension was purchased from the Magento Marketplace, follow the instructions in this article: <a href="https://support.weltpixel.com/hc/en-us/articles/115004328687-How-to-install-extension-if-purchased-from-Magento-Marketplace" target="_blank">How to install extension if purchased from the Magento Marketplace</a></li>
                                <li>If asked for a license, follow the steps presented in section 7 of this article: <a href="https://support.weltpixel.com/hc/en-us/articles/360006697594-License-key-for-local-staging-development-environment-Multi-store-licensing-" target="_blank">License key for local / staging / development environment. Multi-store licensing. </a></li></ul>
                                                                                                               <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">CONFIGURE THE SPEED OPTIMIZATION EXTENSION.</h2>
<p>
<strong>Magento Core Options</strong> are included in the module for visibility. Once the store is placed in Production mode, these Magento Core options are hidden, but will always be visible in this section.
	</p>
    <ul>
        <li>
Go to <strong>Admin > WeltPixel > Speed Optimizaton > Speed Optimization Settings</strong> 
        </li>
        <li>
            <strong>Speed Optimization General Settings</strong> 
            </li>
            <p>
            	-<strong>Enable</strong>  - [ Yes / No ] Enable / Disable the Speed Optomization module for your store.
            </p>
            </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/backend1-R.png"></p>
</div>
  </td>
 </tr>   
                                                                                                               <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">JS OPTIMIZATION</h2>
 <ul>
        <li>
<strong>Enable Advanced Bundling</strong> - [ Yes / No ] Enable / Disable the Advanced JS Bundling functionality. <strong>For best performance, it's recommended to complete the Advanced Bundling process</strong>. Instructions on how to configure Advanced Bundling can be found in the guide below.
        </li>
        <li>
            <strong>Merge JavaScript Files - Magento Core</strong> - [ Yes / No ] Enable / Disable the merging of JavaScript files. This is a Magento Core option.
            </li>
            <li>
                <strong>Enable JavaScript Bundling</strong> - [ Yes / No ] Enable / Disable the bundling of JavaScript files. This is a Magento Core option.
                </li>
                <li>
                    <strong>Minify JavaScript Files</strong> - [ Yes / No ] Enable / Disable the minification of JavaScript files. This is a Magento Core option.
                    </li>
                    <li>
                        <strong>Move JavaScript to the bottom of the page</strong> - [ Yes / No ] Enable / Disable the moving of JavaScript files to the bottom of the page for faster page load. This functionality is also available in the Magento Core starting with Magento 2.3.2. The Core option is only available in Developer mode and can be found in <strong>Admin -> Stores -> Configuration -> Advanced -> Developer -> JavaScript Settngs -> Move JS code to the bottom of the page</strong>. Magento versions <= 2.3.1 only benefit from this functionality with the Speed Optimization module. For best performance, it's recommended to <strong>set this option to Yes</strong>.
                        </li>
                             </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/backend2-L.png"></p>
</div>
  </td>
 </tr>   
                                                                                                               <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">CSS OPTIMIZATION</h2>
  <ul>
        <li>
<strong>Merge CSS Files - Magento Core</strong> - [ Yes / No ] Enable / Disable the merging of CSS files. This is a Magento Core option. <strong>For best performance, it's recommended to set this option to Yes</strong>.
        </li>
        <li>
            <strong>Minify CSS Files - Magento Core</strong> - [ Yes / No ] Enable / Disable the minification of CSS files. This is a Magento Core option. <strong>For best performance, it's recommended to set this option to Yes</strong>.
            </li>
            <li>
                <strong>Enable CSS Preload</strong> - [ Yes / No ] Enable / Disable the preloading of CSS files. If set to Yes, stylesheets included in the head section will be downloaded asynchronously, preventing them from blocking the page render and decreasing load times. <strong>For best performance, it's recommended to set this option to Yes</strong>.
                </li>
                <li>
                    <strong>Preload all CSS Files</strong> - [ Yes / No ] Enable / Disable the preloading of all CSS files. If set to Yes, all CSS files will be preloaded, including Media Query CSS files, which are excluded if this option is set to No.
                    </li>
                    <p>
<strong>Note:</strong> If enabled, depending on server speed, there may be a flash of unstyled content, until all styles are downloaded and applied.
                    </p>
                             </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/backend3-R.png"></p>
</div>
  </td>
 </tr>   
                                                                                                                <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">HTML OPTIMIZATION</h2>
 <ul>
        <li>
<strong>Minify HTML - Magento Core</strong> - [ Yes / No ] Enable / Disable the minification of HTML. This is a Magento Core option. <strong>For best performance, it's recommended to set this option to Yes</strong>.
        </li>
    </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/backend4-L.png"></p>
</div>
  </td>
 </tr>   
                                                                                                                <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">WHAT IS ADVANCED JAVASCRIPT BUNDLING.</h2>
 <p>
Bundling JavaScript modules for better performance is about reducing two things:
    </p>
    <ul>
    	<p>
1.The number of server requests.
</p>
<p>
2.The size of those server requests.
</p>
</ul>
    <p>
In a modular application, the number of server requests can reach into the hundreds. The goal of JavaScript bundling is to reduce the number and size of requested assets for each page loaded in the browser. To do that, we want to build our bundles so that each page in our store will only need to download a common bundle and a page-specific bundle for each page accessed.
    </p>
</div>
  </td>
 </tr>   
                                                                                                               <tr>
  <td width="100%">
      <div class="col-md-6">
<h2 style="font-weight: 600;">CONFIGURING ADVANCED BUNDLING.</h2>
<h3>PREREQUISITE TOOLS</h3>
<p>
These tools need to be installed on your server in order for this process to work. In case you don't know if they're installed, or you're having trouble installing them, get in touch with your hosting partner. Without these tools, while you won't be able to implement the Advanced Bundling process, you can still benefit from the other optimization settings available with the module.
</p>
<h3>NODEJS</h3>
<p>
<strong>Note:</strong> This applies to <strong>Debian</strong> and <strong>Ubuntu</strong> based distributions. If you need to install nodejs on other distributions, check the nodejs Package Manager installation page, or with your hosting partner.
</p>
<p>
If you have a user with sudo access, you can install nodejs using the following command:
	</p>
	<ul>
<strong><font color="#008000">sudo apt-get install -y nodejs</font><br /></strong>
	</ul>
	<p>
You can then check to make sure node.js is installed with the following command:
	</p>
	<ul>
<strong><font color="#008000">npm --v</font><br /></strong>
	</ul>
	<h3>REQUIRE.JS</h3>
	  <p>
If you already have nodejs installed on the server, you can install require.js using the following command, issued from the root of your Magento installation:
    </p>
    <ul>
<strong><font color="#008000">npm install requirejs</font><br /></strong>
    </ul>
    <p>
You can confirm require.js is installed by running:
    </p>
     <ul>
<strong><font color="#008000">r.js</font><br /> </strong>
    </ul>
    <p>
If the response is as follows, require.js is installed:
    </p>
     <ul>
<strong><font color="#008000">See https://github.com/requirejs/r.js for usage.</font><br /></strong>
    </ul>
    <p>
If you're unable to install via this method, check the official require.js page and verify with your hosting partner.
    </p>
    <p>
If you're on Magento Cloud, there is a read-only limitation on the environment so these commands will not normally work. To install require.js, you can add the following command to the Build phase of your deployment process in the .magento.app.yaml file:
    </p>
     <ul>
<strong><font color="#008000">npm install requirejs</font><br /></strong>
    </ul>
    <p>
If this method doesn't work for you, please get in touch with the Magento Cloud Support Team as additional steps may be required to install require.js.
    </p>
 </div>
  </td>
 </tr>   
                                                                                 <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">STEP 1.</h3>
<h3>GENERATING YOUR CUSTOM JS BUNDLING FILE.</h3>
<ul>
        <li>
            Make sure your store is in Developer Mode. You can enable Developer Mode with the php/bin magento <strong>deploy:mode:set developer</strong> command.
        </li>
        <li>
            Enable the <strong>Collect JS in Frontend</strong> option, found in the <strong>Requirejs Bundle Generation</strong> section by setting it to Yes and Saving the configuration.
            </li>
            <li>
                Flush all your available Magento Caches.
                </li>
                <li>
                    Go to the frontend and click on the Start button. Then you can start browsing your store. Make sure you navigate to all main pages that you want to have optimized (homepage, category page, product page, and even the cart and checkout pages).
                    </li>
                    <li>
                        Once you've completed browsing the store, click on the Stop button.
                        </li>
                        <li>
                          Click on Download button to receive the custom JS file generated for your store.
                          </li>
                          <li>
                             Go to the Magento Admin and set the Collect JS in Frontend option to No, and flush the Magento caches.
                              </li>
                              <li>
                                 Rename the downloaded file to <strong>advancedbundling_build.js</strong>.
                                 </li>
                                 <li>
Upload your custom bundling file to your theme in the app/design folder on the server, in the following path:
                                 </li>
                                 <p>
<strong>app/design/frontend/vendor/theme_name/</strong>
                                 </p>
                                 <p>
<strong>WeltPixel_SpeedOptimization/lib/advancedbundling_build.js</strong>
                                 </p>
                             </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/collect-frontend.png"></p>
</div>
  </td>
 </tr>   
                                                                                <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">STEP 2.</h3>
     <p>
Head into <strong>Admin > WeltPixel > Speed Optimizaton > Speed Optimization Settings > JS Optimization</strong>
    </p>
    <p>
Set the <strong>Enable Advanced Bundling</strong> option to Yes. This will automatically disable default magento Merge, Bundling and Minify of the JS files as a different optimization process will be used after switching to production mode.
    </p>
    <p>
Once Advanced Bundling is set to Yes, a box containing a series of instructions will be displayed.
    </p>
     <ul>
        <li>
<strong>Enable Production Mode</strong> - You can do this via the command below:
        </li>
        <p>
<strong><font color="#008000">bin/magento deploy:mode:set production</font><br /></strong>
        </p>
        <li>
            <strong>Deploy Static Content for all Locales</strong> - It's crucial for the Static Content to be deployed before running the Advanced Bundling process. You can use the command below:
            </li>
            <p>
<strong><font color="#008000">bin/magento setup:static-content:deploy [your_locale]</font><br /></strong>
            </p>
            <li>
                <strong>Avoid accessing the frontend before completion</strong> -In case you are using CDN or external cache solution, it's recommended to avoid accessing the frontend before this process is complete, to avoid caching an incomplete version of the files.
                </li>
            </strong>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/advancedbundling1-R.png"></p>
</div>
  </td>
 </tr>   
                                                                                <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">STEP 3.</h3>
    <ul>
        <li>
<strong>Select Locale</strong> - All available Locales come pre-selected, however, you can choose to apply the Advanced Bundling for any number of Locales.
        </li>
            </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/advancedbundling2-L.png"></p>
</div>
  </td>
 </tr>   
                                                                                 <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">STEP 4.</h3>
    <ul>
        <li>
<strong>Prepared Content</strong> - This step of the Advanced Bundling process lets you know that the Static Content for the selected locales has been prepared, and you're ready to move to the next step.
        </li>
            </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/advancedbundling3-R.png"></p>
</div>
  </td>
 </tr>  
                                                                                  <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">STEP 5.</h3>
    <ul>
        <li>
<strong>SSH Commands</strong> - This step generates the necessary SSH commands that need to be run in order for the process to be completed. The commands are numbered, depending on the number of Locales that you've selected back in Step 2. The commands will need to be run in order, and you'll have to wait for each command to finish before running the next one. Once all the listed commands have been run, flush the Magento Cache from the Cache Management section. Afterwards, reload the frontend, and the Advanced Bundling should be complete!
        </li>
        <li>
<strong>Note!:</strong> If your r.js file is installed in a different location to the one in the generated command, make sure you edit the generated command to contain the full path to r.js on the server. An example would be <strong>/chroot/home/a84jfps/node_modules/requirejs/bin/r.js -o pub/static/advancedbundling_build_Pearl_weltpixel_custom.js baseUrl=pub/static/frontend/Pearl/weltpixel_custom/en_US_tmp dir=pub/static/frontend/Pearl/weltpixel_custom/en_US</strong>
        </li>
            </ul>
<p><img src="https://www.weltpixel.com/media/wysiwyg/product-speed/advancedbundling4-L.png"></p>
</div>
  </td>
 </tr>
                                                                                  <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">CLI COMMANDS FOR DEPLOYMENT SCRIPTS.</h3>
<p>
If you're using deployment scripts on your Magento Instance, you can include the following command in your script, to eliminate the need of preparing the static content for the Advanced Bundling process via the Admin Section. 
</p>
<p>
<strong>Note:</strong> Make sure the Enable Advanced Bundling setting in <strong>Admin -> WeltPixel -> Speed Optimization Settings -> JS Optimization</strong> is set to <strong>Yes</strong>. and the config is saved.
</p>
<p>
	<strong><font color="#008000">php bin/magento weltpixel:requirejs:generate</font><br /></strong>
	</p>
</div>
  </td>
 </tr>
                                                                                  <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">USING A CUSTOM JS BUNDLING FILE.</h3>
<p>
If you need to use a custom bundling file, simply create a new file called <strong>'advancedbundling_build.js'</strong> and save it in the following path: <strong>app/design/frontend/vendor/theme_name/WeltPixel_SpeedOptimization/lib/advancedbundling_build.js.</strong> In the file, you can add your own JS which will be bundled, or remove existing JS if, for any reason, it cannot be bundled or it is not available on your Magento environment. This way, when the JS bundling is done, your file will be used instead of the one generated by the Speed Optimization module. Once you've done this, a command will be generated in the Magento Admin (or via the CLI) which you will need to run in order to successfully complete the Advanced JS Bundling process.
</p>
</div>
  </td>
 </tr>
                                                                                   <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">IMPLEMENTING THE ADVANCED BUNDLING PROCESS ON MAGENTO CLOUD.</h3>
<p>
Magento Cloud instances are mostly read-only and do not permit generating files on the fly using the method our Speed Optimization extension implements. As such, there are two methods that can be used to implement the Advanced Bundling process on a Magento Cloud environment. The first step for implementing the Advanced Bundling process on the Cloud instance is ensuring the Static Content Deploy takes place in the <strong>Deploy</strong> phase, and not the <strong>Build</strong> phase - Deploying the Static Content in the <strong>Deploy</strong> phase keeps the <strong>pub/static</strong> folder writable, which means that the extension can complete the bundling process.
</p>
</div>
  </td>
 </tr>
                                                                                    <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">METHOD 1.</h3>
  <p>
1. Clone the Magento Cloud instance to a local environment or server on which the Magento instance can be placed in developer mode.
    </p>
    <p>
2. Follow Step 1 of the Advanced Bundling process described above on a local instance that is <strong>identical to the Magento Cloud instance</strong>. 
</p>
<ul>
It's important that the instances are identical to assure the same JS files get bundled.
</ul>
    </p>
    <p>
3. Add the <strong>advancedbundling_build.js</strong> file you obtained to the following path on your cloned Cloud instance:
    </p>
    <ul>
<strong>app/design/frontend/vendor/theme_name/WeltPixel_SpeedOptimization/lib/advancedbundling_build.js</strong>.
    </ul>
    <p>
4. Edit the <strong>.magento.env.yaml</strong> file to ensure SCD happens in the Deploy phase on your Cloud instance.
    </p>
    <p>
5. Add the <strong>php ./bin/magento weltpixel:requirejs:generate</strong> command to the Deploy or Post-Deploy phase (the command needs to be run after the Static Content is generated) in the <strong>.magento.app.yaml</strong> file. This will eliminate the need to run the process via the Magento Admin.
    </p>
    <p>
6. Add, commit and push your changes to the Cloud instance.
    </p>
    <p>
7. After the deploy is finished, check the Cloud Log in your Cloud Dashboard for the node command(s) you need to run.
    </p>
      <p>
8. Run the generated command(s) via SSH. Make sure your Cloud instance has the prerequisite modules installed (node.js and require.js).
    </p>
    <p>
9. Once the command has finished running, the Advanced Bundling process should be complete.
    </p>
</div>
  </td>
 </tr>
                                                                                     <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">METHOD 2.</h3>
  <p>
1. Clone the Magento Cloud instance to a local environment or server on which the Magento instance can be placed in developer mode.
    </p>
    <p>
2. Follow Step 1 of the Advanced Bundling process described above on a local instance that is <strong>identical to the Magento Cloud instance</strong>. 
</p>
<ul>
It's important that the instances are identical to assure the same JS files get bundled.
</ul>
    </p>
    <p>
3. Follow Steps 1-5 from the Advanced Bundling process described above on your local instance.
    </p>
    <p>
4. After successfully completing the steps on the local instance, head into <strong>pub/static/frontend/vendor/theme_name/locale/</strong> and copy the <strong>bundles</strong> folder to the following path on your cloned Cloud instance: <strong>app/code/WeltPixel/SpeedOptimization</strong>
    </p>
    <p>
5. Edit the <strong>.magento.env.yaml</strong> file to ensure SCD happens in the Deploy phase on your Cloud instance.
    </p>
    <p>
6. Add the <strong>cp -r app/code/WeltPixel/SpeedOptimization/bundles /pub/static/frontend/vendor/theme_name/locale</strong> command to the Post-Deploy phase in the .magento.app.yaml file. This assures the generated bundles folder is in the correct location.
    </p>
    <p>
7. If you have multiple locales, make sure you copy the bundles folder to each one of your locale folders. Add, commit and push your changes to the Cloud instance.
    </p>
      <p>
8. Once the command has finished running, the Advanced Bundling process should be complete.
    </p>
</div>
  </td>
 </tr>
                                                                                     <tr>
  <td width="100%">
      <div class="col-md-6">
<h3 style="font-weight: 600;">FURTHER OPTIMIZATION FOR APACHE SERVERS.</h3>
  <p>
There are some additional steps that you can take in order to squeeze even more speed out of your Magento 2 store. On Apache Servers, you can edit the .htaccess file found in the root of your project by adding the following for an even greater speed boost, courtesy of the Nexcess Docs.
    </p>
    <p>
This section discusses how to compress both static content such as text, CSS, JavaScript, and individual HTML files, and dynamic content such as content generated by CMSs like Magento, WordPress, and ExpressionEngine, among others.
    </p>
    <p>
Static content: This will activate the Apache mod_deflate module and compress static resources into smaller files before transfer to the browser. To enable, uncomment the appropriate lines as shown below:
    </p>
<p>
    <strong><font color="#008000">

        ## enable apache served files compression
        ## http://developer.yahoo.com/performance/rules.html#gzip

            # Insert filter on all content
            SetOutputFilter DEFLATE
            # Insert filter on selected content types only
            AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript 

            # Netscape 4.x has some problems...
            BrowserMatch ^Mozilla/4 gzip-only-text/html

            # Netscape 4.06-4.08 have some more problems
            BrowserMatch ^Mozilla/4\.0[678] no-gzip

            # MSIE masquerades as Netscape, but it is fine
            BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

            # Don't compress images
            SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary

            # Make sure proxies don't deliver the wrong content
            Header append Vary User-Agent env=!dont-vary
</font><br /></strong>
</p>
            <p>
Attention: The following will not function on LiteSpeed servers. Browsers use Expires headers to define the lifespan of cached page components. While all page components should include Expires headers, static components and images should use far-future Expires headers. To activate this feature, uncomment the appropriate line and, directly above it, add ExpiresActive On. For example:
            </p>
<p>
  <strong><font color="#008000">

        ## Add default Expires header
        ## http://developer.yahoo.com/performance/rules.html#expires

            ExpiresActive On
            ExpiresDefault "access plus 1 year"
</font><br /></strong>
</p>
            <p>
ETags allow browsers to validate cached page components from visit to visit. While useful, they can hamper websites hosted on server clusters in some cases. Disabling them as follows will often improve performance:
            </p>
<p>
<strong><font color="#008000">

        ## If running in cluster environment, uncomment this
        ## http://developer.yahoo.com/performance/rules.html#etags

            FileETag none
</font><br /><strong>
</p>
</div>
   </td>
 </tr>
</table>
 <h3>Download it now! <a href="https://www.weltpixel.com/magento-2-speed-optimization-advanced-js-bundling.html">Magento 2 Speed Optimization & Advanced JS Bundling by WeltPixel.</a></h3>

